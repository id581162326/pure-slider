(()=>{"use strict";function t(t){return function(){return t}}function n(t,n,e,r,o,i,a,u,s){switch(arguments.length){case 1:return t;case 2:return function(){return n(t.apply(this,arguments))};case 3:return function(){return e(n(t.apply(this,arguments)))};case 4:return function(){return r(e(n(t.apply(this,arguments))))};case 5:return function(){return o(r(e(n(t.apply(this,arguments)))))};case 6:return function(){return i(o(r(e(n(t.apply(this,arguments))))))};case 7:return function(){return a(i(o(r(e(n(t.apply(this,arguments)))))))};case 8:return function(){return u(a(i(o(r(e(n(t.apply(this,arguments))))))))};case 9:return function(){return s(u(a(i(o(r(e(n(t.apply(this,arguments)))))))))}}}function e(t,n,e,r,o,i,a,u,s,c,l,p,f,d,h,_,g,v,m,y){switch(arguments.length){case 1:return t;case 2:return n(t);case 3:return e(n(t));case 4:return r(e(n(t)));case 5:return o(r(e(n(t))));case 6:return i(o(r(e(n(t)))));case 7:return a(i(o(r(e(n(t))))));case 8:return u(a(i(o(r(e(n(t)))))));case 9:return s(u(a(i(o(r(e(n(t))))))));case 10:return c(s(u(a(i(o(r(e(n(t)))))))));case 11:return l(c(s(u(a(i(o(r(e(n(t))))))))));case 12:return p(l(c(s(u(a(i(o(r(e(n(t)))))))))));case 13:return f(p(l(c(s(u(a(i(o(r(e(n(t))))))))))));case 14:return d(f(p(l(c(s(u(a(i(o(r(e(n(t)))))))))))));case 15:return h(d(f(p(l(c(s(u(a(i(o(r(e(n(t))))))))))))));case 16:return _(h(d(f(p(l(c(s(u(a(i(o(r(e(n(t)))))))))))))));case 17:return g(_(h(d(f(p(l(c(s(u(a(i(o(r(e(n(t))))))))))))))));case 18:return v(g(_(h(d(f(p(l(c(s(u(a(i(o(r(e(n(t)))))))))))))))));case 19:return m(v(g(_(h(d(f(p(l(c(s(u(a(i(o(r(e(n(t))))))))))))))))));case 20:return y(m(v(g(_(h(d(f(p(l(c(s(u(a(i(o(r(e(n(t)))))))))))))))))))}}function r(t){return function(n){return function(e){return t.map(e,(function(t){return t(n)}))}}}Object.prototype.hasOwnProperty;var o=function(t,n){return{left:t,right:n}},i=function(t){return function(n){return o(u(n),t(s(n)))}},a="Separated",u=(r({URI:a,map:function(t,n){return e(t,i(n))}}),function(t){return t.left}),s=function(t){return t.right},c=function(t){return"Some"===t._tag},l=function(t){return"None"===t._tag},p={_tag:"None"},f=function(t){return{_tag:"Some",value:t}};var d=function(t){return function(n){return l(n)?t():n.value}},h=function(t){return null==t?p:f(t)},_=function(t){return function(n){return l(n)?p:f(t(n.value))}};var g;g=void 0;var v=function(t,n){return t<0||t>=n.length};var m=function(t,n){return e(t,y(n))},y=function(t){return T((function(n,e){return t(e)}))},T=function(t){return function(n){for(var e=[t(0,C(n))],r=1;r<n.length;r++)e.push(t(r,n[r]));return e}},w=function(t){return t[0]},b="ReadonlyNonEmptyArray",E={URI:b,map:m},C=(r(E),w),O=function(t){return t[t.length-1]};var S=function(t,n){return e(t,j(n))},j=function(t){return N((function(n,e){return t(e)}))},N=function(t){return function(n){for(var e=[t(0,P(n))],r=1;r<n.length;r++)e.push(t(r,n[r]));return e}},R="NonEmptyArray",A={URI:R,map:S},P=(r(A),C),x=O;var D=v;var k=function(t,n){return e(t,L(n))},L=function(t){return function(n){return n.map((function(n){return t(n)}))}},U=function(t,n){return B(t,(function(t,e,r){return n(e,r)}))},B=function(t,n){return function(e){for(var r=e.length,o=t,i=0;i<r;i++)o=n(i,o,e[i]);return o}},G="ReadonlyArray",M={URI:G,map:k},V=(r(M),function(t){return t.length}),I=function t(n,e){return void 0===e?function(e){return t(n,e)}:D(n,e)?p:f(e[n])};var F=function(t,n){return e(t,z(n))},z=function(t){return function(n){return n.map((function(n){return t(n)}))}},H=function(t){return function(n){return n.map((function(n,e){return t(e,n)}))}},q=U,Y="Array",W={URI:Y,map:F},X=(r(W),function(t){return t.toString()}),J=function(t){return function(n){return n[t]}},K=function(t){return t},Q=function(t){return function(n){return n.apply(void 0,t)}},Z=function(t){return Math.abs(t)},$=function(t){return function(n){return n-t}},tt=function(t){return function(n){return t+n}},nt=function(t){return $(1)(t)},et=function(t){return tt(1)(t)},rt=function(t){return function(n){return n/t}},ot=function(t){return function(n){return t*n}},it=function(t){return ot(t)(-1)},at=function(t){return rt(2)(t)},ut=function(n,r){return function(o){return e(o,I(n),d(t(r)))}},st=function(t){return function(n){var e=ut(t,NaN)(n),r=ut(nt(t),NaN)(n);return $(r)(e)}},ct=function(t){return document.createElement(t)},lt=function(t){return function(n){return t.appendChild(n),n}},pt=function(t){return function(n){var r=document.createDocumentFragment();e(n,z(lt(r))),e(r,lt(t))}},ft=function(t){var n=t.content;return document.importNode(n,!0)},dt=function(t){return function(n){var e;return(e=n.classList).add.apply(e,t),n}},ht=function(t){return function(n){var e;return(e=n.classList).remove.apply(e,t),n}},_t=function(t){return function(n){return n.style.cssText=t,n}},gt=function(t){return function(n){return n.innerText=t,n}},vt=function(t,n){return function(e){return e.addEventListener(t,n),e}},mt=function(t,n){return function(e){return e.removeEventListener(t,n),e}},yt=function(t){return function(n){return e(n.querySelector(t),h)}},Tt=function(t){return function(n){return Array.from(n.querySelectorAll(t))}};const wt=function(t,n,r){var o=this;this.props=t,this.node=n,this.key=r,this.getNode=function(){return o.node},this.destroy=function(){var t=o.props.bemBlockClassName,n=t.base,e=t.theme;"container"===o.key?ht([""+n,n+"_orientation_vertical",e+"_orientation_vertical",n+"_orientation_horizontal",e+"_orientation_horizontal"])(o.node):o.node.remove()},this.setClassList=function(){var t=o.props,n=t.bemBlockClassName,r=t.orientation,i=n.base,a=n.theme;e(o.node,dt("container"===o.key?[""+i,i+"_orientation_"+r,""+a,a+"_orientation_"+r]:[i+"__"+o.key,i+"__"+o.key+"_orientation_"+r,a+"__"+o.key,a+"__"+o.key+"_orientation_"+r]))},this.pxToNum=function(t){var n=o.props,r=n.container,i=n.range,a=e(r,o.nodeSize),u=st(1)(i);return e(t,ot(u),rt(a),Math.round)},this.correctToMin=function(t){var n=e(o.props.range,P);return $(n)(t)},this.percentOfRange=function(t){var n=e(o.props.range,st(1));return e(t,function(t){return function(n){return e(n,rt(t),ot(100))}}(n))},this.nodeSize=function(t){return"horizontal"===o.props.orientation?t.offsetWidth:function(t){return t.offsetHeight}(t)},this.setClassList()};var bt,Et=(bt=function(t,n){return(bt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}bt(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});const Ct=function(t){function n(n){var r=t.call(this,n,ct("div"),"connect")||this;return r.moveTo=function(t){var n=r.props.orientation,o=r.getPos(t),i=r.getSize(t),a="horizontal"===n?"left: "+o+"%; max-width: "+i+"%;":"bottom: "+o+"%; max-height: "+i+"%;";e(r.node,_t(a))},r.getSize=function(t){var n=r.props,o=n.range,i=n.type,a=e(o,x);return"from-start"===i?e(t,P,r.correctToMin,r.percentOfRange):"to-end"===i?e(t,x,$(a),Z,r.percentOfRange):e(t,st(1),r.percentOfRange)},r.getPos=function(t){var n=r.props.type;return"to-end"===n?e(t,x,r.correctToMin,r.percentOfRange):"inner"===n?e(t,P,r.correctToMin,r.percentOfRange):0},r}return Et(n,t),n.of=function(t){return new n(t)},n}(wt);var Ot=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),St=function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;var r=Array(t),o=0;for(n=0;n<e;n++)for(var i=arguments[n],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r};const jt=function(t){function n(n){var r=t.call(this,n,ct("span"),"tooltip")||this;return r.setValue=function(t){e(r.node,e(t,X,gt))},r.setTooltipVisibility=function(){var t=r.props,n=t.bemBlockClassName,o=t.alwaysShown,i=n.base,a=n.theme;e(r.node,dt(St(o?[i+"__tooltip_shown"]:[],o?[a+"__tooltip_shown"]:[])))},r.setTooltipVisibility(),r}return Ot(n,t),n.of=function(t){return new n(t)},n}(wt);var Nt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();const Rt=function(t){function n(n){var r=t.call(this,n,ct("div"),"handler")||this;return r.moveTo=function(t){var n=r.props,o=n.orientation,i=n.type,a=r.getPos(t),u=e(r.node,r.nodeSize,at),s="horizontal"===o?"left: calc("+a+"% - "+u+"px);":"bottom: calc("+a+"% - "+u+"px);",c=e(t,"start"===i||"single"===i?P:x);r.tooltip.setValue(c),e(r.node,_t(s))},r.destroy=function(){r.node.remove(),r.removeEventListeners()},r.renderTooltip=function(){var t=r.props,n=t.range,o=t.container,i=t.orientation,a=t.bemBlockClassName,u=t.tooltipAlwaysShown,s=e(jt,J("of"));return e({range:n,container:o,orientation:i,bemBlockClassName:a,alwaysShown:u},s)},r.appendTooltip=function(){e(r.tooltip.getNode(),lt(r.node))},r.setTabIndex=function(){r.node.tabIndex=0},r.setEventListeners=function(){vt("pointerdown",r.startDrag)(r.node),vt("mousedown",r.startDrag)(r.node),vt("pointerup",r.endDrag)(window),vt("mouseup",r.endDrag)(window),vt("keydown",r.keyDownListener)(r.node)},r.removeEventListeners=function(){mt("pointerup",r.endDrag)(window),mt("mouseup",r.endDrag)(window)},r.getPos=function(t){var n=r.props.type;return e(t,"start"===n||"single"===n?P:x,r.correctToMin,r.percentOfRange)},r.dragListener=function(t){var n=r.props,o=n.onDrag,i=n.orientation,a=n.type,u="horizontal"===i?"x":"y",s="horizontal"===i?"clientX":"clientY",c=e(r.node,r.nodeSize,at),l=e(r.node.getBoundingClientRect(),J(u)),p="touchmove"===t.type?e(t,J("targetTouches"))[0][s]:e(t,J(u));e(p,$(l),"horizontal"===i?K:it,$(c),r.pxToNum,o(a))},r.startDrag=function(t){t.stopPropagation(),vt("touchmove",r.dragListener)(window),vt("mousemove",r.dragListener)(window)},r.endDrag=function(t){t.stopPropagation(),mt("touchmove",r.dragListener)(window),mt("mousemove",r.dragListener)(window)},r.keyDownListener=function(t){var n=t.code,e=r.props,o=e.type,i=e.step,a=e.orientation,u=e.onDrag,s="horizontal"===a&&"ArrowRight"===n||"vertical"===a&&"ArrowUp"===n||"Equal"===n;"horizontal"===a&&"ArrowLeft"===n||"vertical"===a&&"ArrowDown"===n||"Minus"===n?u(o)(it(i)):s&&u(o)(i)},r.tooltip=r.renderTooltip(),n.showTooltip?r.appendTooltip():r.tooltip.destroy(),r.setEventListeners(),r.setTabIndex(),r}return Nt(n,t),n.of=function(t){return new n(t)},n}(wt);var At=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();const Pt=function(t){function r(r){var o=t.call(this,r,ct("div"),"base")||this;return o.setEventListeners=function(){vt("click",o.clickListener)(o.node)},o.clickListener=function(t){var r=o.props,i=r.orientation,a=r.range,u=r.onClick,s=r.container,c=e(a,P),l="horizontal"===i?"x":"y",p=e(o.node.getBoundingClientRect(),J(l)),f=e(s,o.nodeSize),d=n($(f),Z);e(t,J(l),$(p),"horizontal"===i?K:d,o.pxToNum,tt(c),u)},o.setEventListeners(),o}return At(r,t),r.of=function(t){return new r(t)},r}(wt);var xt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();const Dt=function(t){function n(n){var r=t.call(this,n,ct("div"),"unit")||this;return r.setActive=function(t){var n=r.props.bemBlockClassName,e=[n.base+"__unit_active",n.theme+"__unit_active"];t?dt(e)(r.node):ht(e)(r.node)},r.updatePosition=function(){var t=r.props,n=t.value,o=t.orientation,i=e(n,r.correctToMin,r.percentOfRange);_t("horizontal"===o?"left: "+i+"%":"bottom: "+i+"%")(r.node)},r.getValue=function(){return r.props.value},r.renderValue=function(){var t=r.props,n=t.value,o=t.bemBlockClassName,i=[o.base+"__unit-value",o.theme+"__unit-value"],a=e(ct("span"),e(n,X,gt),dt(i));r.node.appendChild(a)},r.clickListener=function(t){t.stopPropagation(),(0,r.props.onClick)(r.getValue())},r.initEventListeners=function(){vt("click",r.clickListener)(r.node)},r.setClassList(),r.updatePosition(),n.withValue&&r.renderValue(),r.initEventListeners(),r}return xt(n,t),n.of=function(t){return new n(t)},n}(wt);var kt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();const Lt=function(t){function r(r){var o=t.call(this,r,ct("div"),"scale")||this;return o.moveTo=function(t){var r=o.props.connectType,i=e(t,P),a=e(t,x),u=function(n){return e(t,q(!1,function(t){return function(n,e){return e===t||n}}(n)))},s=function(t){return t<=i},c=function(t){return t>=a},l=function(t){return s(t)||c(t)},p=function(t){return t>=i&&t<=a};z((function(t){var e=t.getValue,o=t.setActive;return n(e,"outer-range"===r?l:"inner-range"===r?p:"from-start"===r?s:"to-end"===r?c:u,o)()}))(o.units)},o.renderUnits=function(){var t=o.props,n=t.step,r=t.range,i=t.container,a=t.orientation,u=t.bemBlockClassName,s=t.withValue,c=t.showValueEach,l=t.onClick,p=e(Dt,J("of")),f=e(r,st(1),rt(n),Math.ceil),d=e(r,P),h=e(r,x),_=function(t){return e(t,ot(n),tt(d))},g=[],v=e(f,rt(20),Math.ceil),m=new Array(e(f>20?20:f,et)).fill(null),y=function(t){return{range:r,container:i,orientation:a,bemBlockClassName:u,onClick:l,withValue:s&&(0===t||0===e(t,rt(c),(n=1,function(t){return Math.ceil(t%n)}))&&e(t,tt(1.5),ot(v),_,$(h))<=h||e(t,ot(v),_)>=h),value:e(t,ot(v),_,(function(t){return t>=h?h:t}))};var n};return H((function(t){return g.push(e(t,y,p))}))(m),g},o.appendUnits=function(){e(o.units,z((function(t){return t.getNode()})),pt(o.node))},o.units=o.renderUnits(),o.setClassList(),o.appendUnits(),o}return kt(r,t),r.of=function(t){return new r(t)},r}(wt);var Ut=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();const Bt=function(t){function n(n){return t.call(this,n,n.container,"container")||this}return Ut(n,t),n.of=function(t){return new n(t)},n}(wt);var Gt=function(){return(Gt=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)};const Mt=function(){function n(n,r){var o=this;this.props=n,this.state=r,this.update=function(t){switch(t.type){case"UPDATE_CURRENTS":var n=o.state.currents;o.state=Gt(Gt({},o.state),{currents:t.currents}),V(n)!==V(t.currents)?o.reRender():o.moveHandlersTo(t.currents);break;case"UPDATE_RANGE":o.state.range!==t.range&&(o.state=Gt(Gt({},o.state),{range:t.range}),o.reRender());break;case"UPDATE_STEP":o.state.step!==t.step&&(o.state=Gt(Gt({},o.state),{step:t.step}),o.reRender());break;case"SET_CONNECT_TYPE":o.state.connectType!==t.connectType&&(o.state=Gt(Gt({},o.state),{connectType:t.connectType}),o.reRender());break;case"TOGGLE_TOOLTIPS":o.state=Gt(Gt({},o.state),{showTooltips:!o.state.showTooltips}),o.reRender();break;case"TOGGLE_ORIENTATION":o.state=Gt(Gt({},o.state),{orientation:"horizontal"===o.state.orientation?"vertical":"horizontal"}),o.reRender();break;case"TOGGLE_SCALE":o.state=Gt(Gt({},o.state),{showScale:!o.state.showScale}),o.reRender()}},this.getBemBlockClassName=function(){return{base:"pure-slider",theme:e(o.props,J("themeBemBlockClassName"),h,d(t("-slider")))}},this.moveElementTo=function(t){return function(n){return n.moveTo(t),n}},this.destroyElement=function(t){return t.destroy(),t},this.destroy=function(){z(o.destroyElement)(o.handlers),z(o.destroyElement)(o.connects),o.destroyElement(o.scale),o.destroyElement(o.base),o.destroyElement(o.container)},this.render=function(){o.container=o.renderContainer(),o.base=o.renderBase(),o.handlers=o.renderHandlers(),o.scale=o.renderScale(),o.connects=o.renderConnects(),o.state.showScale||o.destroyElement(o.scale)},this.reRender=function(){o.destroy(),o.render()},this.renderContainer=function(){var t=o.props.container,n=o.state,r=n.orientation,i=n.range;return e({bemBlockClassName:o.getBemBlockClassName(),orientation:r,range:i,container:t},Bt.of)},this.renderBase=function(){var t=o.props.container,n=o.state,r=n.orientation,i=n.range,a=n.currents,u={bemBlockClassName:o.getBemBlockClassName(),orientation:r,range:i,container:t,initialClickType:2===e(a,V)?"start":"single",onClick:o.handleClick},s=e(u,Pt.of);return lt(t)(s.getNode()),s},this.renderConnects=function(){var t=o.props.container,n=o.state,r=n.connectType,i=n.range,a=n.orientation,u=n.currents,s="outer-range"===r?[0,2]:"inner-range"===r&&2===V(u)?[1]:"from-start"===r?[0]:"to-end"===r?[1]:[],c=function(n){return{container:t,bemBlockClassName:o.getBemBlockClassName(),orientation:a,range:i,type:"outer-range"===r||"inner-range"===r?0===n?"from-start":2===n?"to-end":"inner":0===n?"from-start":"to-end"}},l=Ct.of,p=z((function(t){return e(t,c,l)}))(s);return e(p,z((function(t){return t.getNode()})),pt(o.base.getNode())),e(p,z(o.moveElementTo(u))),p},this.renderHandlers=function(){var t=o.props,n=t.container,r=t.tooltipOptions,i=o.state.showTooltips,a=o.state,u=a.range,s=a.currents,c=a.orientation,l=a.step,p=function(t){return{container:n,bemBlockClassName:o.getBemBlockClassName(),orientation:c,range:u,showTooltip:i,step:l,tooltipAlwaysShown:!!r&&r.alwaysShown,type:2===V(s)?0===t?"start":"end":"single",onDrag:o.handleDrag}},f=Rt.of,d=H((function(t){return e(t,p,f)}))(s);return e(d,z((function(t){return t.getNode()})),pt(o.base.getNode())),e(d,z(o.moveElementTo(s))),d},this.renderScale=function(){var t=o.props,n=t.container,r=t.scaleOptions,i=o.state,a=i.currents,u=i.orientation,s=i.range,c=i.connectType,l=i.step,p=Lt.of,f=e({container:n,orientation:u,range:s,connectType:c,step:l,withValue:r.withValue,showValueEach:r.showValueEach,bemBlockClassName:o.getBemBlockClassName(),onClick:o.handleClick},p);return lt(o.base.getNode())(f.getNode()),o.moveElementTo(a)(f),f},this.handleDrag=function(t){return function(n){var r=o.props.onChange,i=e(o.state,J("currents"),P),a=e(o.state,J("currents"),x);e("start"===t?[e(i,tt(n)),a]:"single"===t?[e(i,tt(n))]:[i,e(a,tt(n))],r)}},this.moveHandlersTo=function(t){e(o.connects,z(o.moveElementTo(t))),e(o.handlers,z(o.moveElementTo(t))),o.scale&&e(o.scale,o.moveElementTo(t))},this.handleClick=function(t){var n=o.props.onChange,r=e(o.state,J("currents"),P),i=e(o.state,J("currents"),x),a=e(r,$(t),Z),u=e(i,$(t),Z);n(2===V(o.state.currents)?a<=u?[t,i]:u<a?[r,t]:[r,i]:[t])},this.container=this.renderContainer(),this.base=this.renderBase(),this.handlers=this.renderHandlers(),this.connects=this.renderConnects(),this.scale=this.renderScale(),r.showScale||this.destroyElement(this.scale)}return n.of=function(t,e){return new n(t,e)},n}();const Vt=function(){var t=this;this.listeners=[],this.attach=function(n){t.listeners.push(n)}};var It=function(){return(It=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)};const Ft=function(){function t(t){var n,r=this;this.state=t,this.observer=new Vt,this.update=function(t){switch(t.type){case"UPDATE_CURRENTS":var n=r.correctCurrents("change")(t.currents);r.state=It(It({},r.state),{currents:n}),e(r.observer,J("listeners"),z((function(t){return t.update({type:"CURRENTS_UPDATED",currents:n})})));break;case"UPDATE_STEP":var o=It(It({},r.state),{step:t.step});r.state=e(o,r.validateState);var i=r.correctCurrents("init")(r.state.currents);r.state=It(It({},r.state),{currents:i}),e(r.observer,J("listeners"),z((function(t){t.update({type:"CURRENTS_UPDATED",currents:i}),t.update({type:"STEP_UPDATED",step:r.state.step})})));break;case"UPDATE_RANGE":o=It(It({},r.state),{range:t.range});r.state=e(o,r.validateState);var a=r.correctCurrents("init")(r.state.currents);r.state=It(It({},r.state),{currents:a}),e(r.observer,J("listeners"),z((function(t){t.update({type:"CURRENTS_UPDATED",currents:a}),t.update({type:"RANGE_UPDATED",range:r.state.range})})));break;case"UPDATE_MARGIN":o=It(It({},r.state),{margin:t.margin});r.state=e(o,r.validateState);var u=r.correctCurrents("init")(r.state.currents);r.state=It(It({},r.state),{currents:u}),e(r.observer,J("listeners"),z((function(n){n.update({type:"CURRENTS_UPDATED",currents:u}),n.update({type:"MARGIN_UPDATED",margin:t.margin})})));break;case"TOGGLE_RANGE":var s=e(2===V(r.state.currents)?[e(r.state.currents,P)]:[e(r.state.currents,P),e(r.state.currents,P)],r.correctCurrents("change"));r.state=It(It({},r.state),{currents:s}),e(r.observer,J("listeners"),z((function(t){t.update({type:"CURRENTS_UPDATED",currents:s})})))}},this.getState=function(){return r.state},this.correctCurrents=function(t){return function(n){var o=r.state.currents,i=function(n){return function(r,i){return"init"===t||"change"===t&&function(t,n){return e(o,ut(t,NaN))!==n}(r,i)?n(i,r):i}};return e(n,H(e(r.correctToStep,i)),H(e(r.correctToRange,i)),(function(t){return H(e(r.correctToMargin(t),i))(t)}))}},this.correctToStep=function(t){var n=r.state,o=n.step,i=e(n.range,P);return e(t,$(i),rt(o),Math.round,ot(o),tt(i))},this.correctToMargin=function(t){return function(n,o){var i=r.state,a=i.margin,u=i.range,s=e(u,P),c=e(u,x),l=ut(nt(o),NaN)(t),p=ut(et(o),NaN)(t),f=n!==c&&!isNaN(l)&&$(l)(n)<a,d=n!==s&&!isNaN(p)&&$(n)(p)<a;return f?tt(a)(l):d?$(a)(p):n}},this.correctToRange=function(t){var n=r.state.range,o=e(n,P),i=e(n,x);return t<o?o:t>i?i:t},this.invalidStateError=(n="Invalid state",function(t){var e=new Error;throw e.name=n,e.message=t,e}),this.validateState=function(t){return e(t,r.validateByRange,r.validateByStep,r.validateByMargin)},this.validateByRange=function(t){var n=t.range,o=e(n,P);return e(n,x)<o&&r.invalidStateError("Max value must not be less than min"),0===e(n,st(1))&&r.invalidStateError("Range value must not be equal to zero"),t},this.validateByStep=function(t){var n=t.range,o=t.step;return o>e(n,st(1))&&r.invalidStateError("Step value must not be more than range value"),o<0&&r.invalidStateError("Step value must not be less than zero"),t},this.validateByMargin=function(t){var n=t.range,o=t.margin;return o>e(n,st(1))&&r.invalidStateError("Margin value must not be more than range value"),o<0&&r.invalidStateError("Margin value must not be less than zero"),t},this.validateState(t),this.state=It(It({},t),{currents:this.correctCurrents("init")(t.currents)})}return t.of=function(n){return new t(n)},t}();const zt=function(){function t(t,n){var e=this;this.view=t,this.model=n,this.dispatch=function(t){switch(t.type){case"UPDATE_CURRENTS":case"UPDATE_STEP":case"UPDATE_RANGE":case"UPDATE_MARGIN":case"TOGGLE_RANGE":e.model.update(t);break;case"SET_CONNECT_TYPE":case"TOGGLE_SCALE":case"TOGGLE_ORIENTATION":case"TOGGLE_TOOLTIPS":e.view.update(t);break;case"ATTACH_LISTENER":e.addListener(t.listener)}},this.addListener=function(t){e.model.observer.attach(t),t.update({type:"CURRENTS_UPDATED",currents:e.model.getState().currents}),t.update({type:"RANGE_UPDATED",range:e.model.getState().range}),t.update({type:"STEP_UPDATED",step:e.model.getState().step}),t.update({type:"MARGIN_UPDATED",margin:e.model.getState().margin})},this.viewListener={update:function(t){switch(t.type){case"CURRENTS_UPDATED":e.view.update({type:"UPDATE_CURRENTS",currents:t.currents});break;case"RANGE_UPDATED":e.view.update({type:"UPDATE_RANGE",range:t.range});break;case"STEP_UPDATED":e.view.update({type:"UPDATE_STEP",step:t.step})}}},this.addListener(this.viewListener)}return t.of=function(n,e){return new t(n,e)},t}();const Ht=function(){function t(t,n){var r=this;this.props=n,this.dispatch=function(t){r.controller.dispatch(t)},this.handleCurrentsChange=function(t){r.dispatch({type:"UPDATE_CURRENTS",currents:t})};var o=n.range,i=n.step,a=n.margin,u=n.currents,s=n.connectType,l=n.orientation,p=n.tooltipOptions,f=n.scaleOptions,d=n.themeBemBlockClassName;this.view=Mt.of({container:t,tooltipOptions:{alwaysShown:!!p&&p.alwaysShown},scaleOptions:{withValue:!!f&&f.withValue,showValueEach:f&&f.showValueEach?f.showValueEach:i},themeBemBlockClassName:d,onChange:this.handleCurrentsChange},{currents:u,range:o,step:i,orientation:l||"horizontal",connectType:s||"inner-range",showScale:e(f,h,c),showTooltips:e(p,h,c)}),this.model=Ft.of({range:o,step:i,margin:a,currents:u}),this.controller=zt.of(this.view,this.model)}return t.of=function(n){return function(e){return new t(n,e)}},t}();const qt=function(){function t(t,n,r){var o=this;this.parent=t,this.templateSelector=n,this.componentSelector=r,this.render=function(t){return e(o.parent,yt(o.componentSelector),f,_((function(n){return c(n)?e(n,J("value"),t):p})))},this.renderFragment=function(){return e(document,yt(o.templateSelector),f,_((function(t){return c(t)?e(t,J("value"),ft,lt(o.parent)):p})))},this.fragment=this.renderFragment()}return t.injectTemplate=function(t){return e(document,yt("body"),f,_((function(n){return c(n)?n.value.insertAdjacentHTML("afterbegin",t):p})))},t}();var Yt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();qt.injectTemplate('<template id="js-button"> <button class="button js-button"></button> </template>');const Wt=function(t){function n(n,r){var o=t.call(this,r,"#js-button",".js-button")||this;return o.props=n,o.mapButton=function(t){return e(t,vt("click",o.props.onClick),gt(o.props.label))},e(o.mapButton,o.render),o}return Yt(n,t),n.of=function(t){return function(e){return new n(t,e)}},n}(qt);var Xt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();qt.injectTemplate('<template id="js-text-field"> <label class="text-field js-text-field"> <span class="text-field__label js-text-field__label"></span> <input type="number" class="text-field__input js-text-field__input"> </label> </template>');const Jt=function(n){function r(r,o){var i=n.call(this,o,"#js-text-field",".js-text-field")||this;return i.props=r,i.getValue=function(){return e(i.input,f,_((function(t){return c(t)?e(t,J("value"),J("value"),Number):NaN})),d(t(0)))},i.setValue=function(t){return e(i.input,f,_((function(n){c(n)&&(n.value.value=X(t))})))},i.setStep=function(t){return e(i.input,f,_((function(n){if(c(n)){var r=e(n.value.min,Number),o=e(n.value.max,Number),i=e(o,$(r),Math.abs),a=e(i,rt(t),Math.ceil,ot(t),tt(r),X);n.value.step=X(t),n.value.max=a}})))},i.setRange=function(t){return e(i.input,f,_((function(n){if(c(n)){var r=e(t,P,X),o=e(t,x,X);n.value.min=r,n.value.max=o}})))},i.mapTextField=function(t){return e(t,i.renderInput,i.setLabel)},i.input=p,i.renderInput=function(t){return e(t,yt(".js-text-field__input"),(function(t){return i.input=t,t}),f,_((function(t){if(c(t)){var n=e(t,J("value"));e(n,i.setEventListeners,i.setAttributes)}})),(function(){return t}))},i.setEventListeners=function(t){return e(t,vt("change",(function(){return e(t,J("value"),Number,i.props.onChange)})))},i.setAttributes=function(t){var n=i.props,e=n.min,r=n.max,o=n.step;return e&&(t.min=X(e)),r&&(t.max=X(r)),o&&(t.min=X(o)),t},i.setLabel=function(t){var n=i.props.label;return e(t,yt(".js-text-field__label"),f,_((function(t){return c(t)?e(t,J("value"),(function(t){return t.innerText=n})):p}))),t},e(i.mapTextField,i.render),i}return Xt(r,n),r.of=function(t){return function(n){return new r(t,n)}},r}(qt);var Kt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();qt.injectTemplate('<template id="js-switcher"> <div class="switcher js-switcher"> <span class="switcher__label js-switcher__label"></span> <div class="switcher__input js-switcher__input"></div> </div> </template>');const Qt=function(t){function n(n,r){var o=t.call(this,r,"#js-switcher",".js-switcher")||this;return o.props=n,o.slider=p,o.mapSwitcher=function(t){return e(t,o.setLabel,o.renderInput,(function(){return t}))},o.connectTypeChangedListener={update:function(t){switch(t.type){case"CURRENTS_UPDATED":e(t,J("currents"),P,o.props.onChange)}}},o.renderInput=function(t){return e(t,yt(".js-switcher__input"),f,_((function(t){return c(t)?e(t,J("value"),Ht.of,Q([{range:[0,4],step:1,margin:1,currents:[0],connectType:"none",scaleOptions:{withValue:!0,showValueEach:1},themeBemBlockClassName:"switcher"}])):p})),(function(t){return o.slider=t}),(function(){return t}))},o.setLabel=function(t){return e(t,yt(".js-switcher__label"),f,_((function(t){return c(t)?e(t,J("value"),gt(o.props.label)):p})),(function(){return t}))},e(o.mapSwitcher,o.render),e(o.slider,f,_((function(t){return c(t)?e(t,J("value")).dispatch({type:"ATTACH_LISTENER",listener:o.connectTypeChangedListener}):p}))),o}return Kt(n,t),n.of=function(t){return function(e){return new n(t,e)}},n}(qt);var Zt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();qt.injectTemplate('<template id="js-options"> <div class="options js-options"> <div class="options__row"> <div class="options__text-field js-options__text-field js-options__text-field_with_handler"></div> <div class="options__text-field js-options__text-field js-options__text-field_with_handler"></div> </div> <div class="options__row js-options__row_with_range"> <div class="options__text-field js-options__text-field js-options__text-field_with_range"></div> <div class="options__text-field js-options__text-field js-options__text-field_with_range"></div> </div> <div class="options__row js-options__row_with_step-and-margin"> <div class="options__text-field js-options__text-field js-options__text-field_with_step"></div> <div class="options__text-field js-options__text-field js-options__text-field_with_margin"></div> </div> <div class="options__button js-options__button js-options__button_toggle_orientation"></div> <div class="options__button js-options__button js-options__button_toggle_scale"></div> <div class="options__button js-options__button js-options__button_toggle_tooltips"></div> <div class="options__button js-options__button js-options__button_toggle_range"></div> <div class="options__switcher js-options__switcher js-options__switcher"></div> </div> </template>');const $t=function(t){function n(n,r){var o=t.call(this,r,"#js-options",".js-options")||this;return o.props=n,o.updateCurrents=function(t){e(o.currentsFields,H((function(n,r){return r.setValue(e(t,ut(n,0)))})))},o.updateRange=function(t){e(o.rangeFields,H((function(n,r){return r.setValue(e(t,ut(n,0)))}))),e(o.currentsFields,z((function(n){return e(t,n.setRange)}))),e(o.stepField,z((function(n){return n.setRange([1,e(t,st(1))])}))),e(o.marginField,z((function(n){return n.setRange([1,e(t,st(1))])})))},o.updateStep=function(t){e(o.currentsFields,z((function(n){return n.setStep(t)}))),e(o.stepField,z((function(n){return n.setValue(t)})))},o.updateMargin=function(t){e(o.marginField,z((function(n){return n.setValue(t)})))},o.currentsFields=[],o.rangeFields=[],o.stepField=[],o.marginField=[],o.mapOptions=function(t){return e(t,o.renderCurrentsFields,o.renderRangeFields,o.renderStepField,o.renderMarginField,o.renderOrientationToggle,o.renderRangeToggle,o.renderTooltipsToggle,o.renderScaleToggle,o.renderSwitcher)},o.renderCurrentsFields=function(t){return e(t,Tt(".js-options__text-field_with_handler"),H((function(t,n){return e(n,Jt.of({label:0===t?"1st handler":"2nd handler",onChange:function(n){return o.props.onCurrentsChange([0===t?n:e(o.currentsFields,ut(0,{getValue:function(){return 0}}),J("getValue"))(),1===t?n:e(o.currentsFields,ut(1,{getValue:function(){return 0}}),J("getValue"))()])}}),(function(t){return o.currentsFields.push(t)}))})),(function(){return t}))},o.renderRangeFields=function(t){return e(t,Tt(".js-options__text-field_with_range"),H((function(t,n){return e(n,Jt.of({label:0===t?"Min":"Max",onChange:function(n){return o.props.onRangeChange([0===t?n:e(o.rangeFields,ut(0,{getValue:function(){return 0}}),J("getValue"))(),1===t?n:e(o.rangeFields,ut(1,{getValue:function(){return 0}}),J("getValue"))()])}}),(function(t){return o.rangeFields.push(t)}))})),(function(){return t}))},o.renderStepField=function(t){return e(t,yt(".js-options__text-field_with_step"),f,_((function(t){return c(t)?e(t,J("value"),Jt.of({label:"Step",onChange:o.props.onStepChange,min:1}),(function(t){return o.stepField.push(t)})):p})),(function(){return t}))},o.renderMarginField=function(t){return e(t,yt(".js-options__text-field_with_margin"),f,_((function(t){return c(t)?e(t,J("value"),Jt.of({label:"Margin",onChange:o.props.onMarginChange,min:1}),(function(t){return o.marginField.push(t)})):p})),(function(){return t}))},o.renderOrientationToggle=function(t){return e(t,yt(".js-options__button_toggle_orientation"),f,_((function(t){return c(t)?e(t,J("value"),Wt.of({label:"Toggle orientation",onClick:o.props.onOrientationToggle})):p})),(function(){return t}))},o.renderScaleToggle=function(t){return e(t,yt(".js-options__button_toggle_scale"),f,_((function(t){return c(t)?e(t,J("value"),Wt.of({label:"Toggle scale",onClick:o.props.onScaleToggle})):p})),(function(){return t}))},o.renderTooltipsToggle=function(t){return e(t,yt(".js-options__button_toggle_tooltips"),f,_((function(t){return c(t)?e(t,J("value"),Wt.of({label:"Toggle tooltips",onClick:o.props.onTooltipsToggle})):p})),(function(){return t}))},o.renderRangeToggle=function(t){return e(t,yt(".js-options__button_toggle_range"),f,_((function(t){return c(t)?e(t,J("value"),Wt.of({label:"Toggle range",onClick:o.props.onRangeToggle})):p})),(function(){return t}))},o.renderSwitcher=function(t){return e(t,yt(".js-options__switcher"),f,_((function(t){return c(t)?e(t,J("value"),Qt.of({label:"Interval type switcher",onChange:o.handleConnectSwitcherChange})):p})),(function(){return t}))},o.handleConnectSwitcherChange=function(t){return o.props.onConnectTypeChange(1===t?"from-start":2===t?"to-end":3===t?"inner-range":4===t?"outer-range":"none")},e(o.mapOptions,o.render),o}return Zt(n,t),n.of=function(t){return function(e){return new n(t,e)}},n}(qt);var tn=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();qt.injectTemplate('<template id="js-example"> <section class="example js-example"> <h2 class="example__title js-example__title"></h2> <p class="example__description js-example__description"></p> <div class="example__slider js-example__slider"></div> <div class="example__options js-example__options"></div> </section> </template>');const nn=function(t){function n(n,r){var o=t.call(this,r,"#js-example",".js-example")||this;return o.props=n,o.options=p,o.mapExample=function(t){return e(t,o.setInnerText,o.renderOptions)},o.renderOptions=function(t){return e(t,yt(".js-example__options"),f,_((function(t){return c(t)?e(t,J("value"),$t.of({onConnectTypeChange:o.handleConnectTypeChange,onCurrentsChange:o.handleCurrentsChange,onStepChange:o.handleStepChange,onMarginChange:o.handleMarginChange,onRangeChange:o.handleRangeChange,onOrientationToggle:o.handleOrientationToggle,onScaleToggle:o.handleScaleToggle,onTooltipsToggle:o.handleTooltipsToggle,onRangeToggle:o.handleRangeToggle}),(function(t){return o.options=f(t)})):p})),(function(){return t}))},o.setInnerText=function(t){var n=o.props,r=n.title,i=n.description;return e(t,yt(".js-example__title"),f,_((function(t){return c(t)?e(t,J("value"),gt(r)):p}))),e(t,yt(".js-example__description"),f,_((function(t){return c(t)?e(t,J("value"),gt(i)):p}))),t},o.handleOrientationToggle=function(){return e(o.slider,f,_((function(t){return c(t)?e(t,J("value"),J("dispatch"),Q([{type:"TOGGLE_ORIENTATION"}])):p})))},o.handleTooltipsToggle=function(){return e(o.slider,f,_((function(t){return c(t)?e(t,J("value"),J("dispatch"),Q([{type:"TOGGLE_TOOLTIPS"}])):p})))},o.handleScaleToggle=function(){return e(o.slider,f,_((function(t){return c(t)?e(t,J("value"),J("dispatch"),Q([{type:"TOGGLE_SCALE"}])):p})))},o.handleRangeToggle=function(){return e(o.slider,f,_((function(t){return c(t)?e(t,J("value"),J("dispatch"),Q([{type:"TOGGLE_RANGE"}])):p})))},o.handleConnectTypeChange=function(t){return e(o.slider,f,_((function(n){return c(n)?e(n,J("value"),J("dispatch"),Q([{type:"SET_CONNECT_TYPE",connectType:t}])):p})))},o.handleCurrentsChange=function(t){return e(o.slider,f,_((function(n){return c(n)?e(n,J("value"),J("dispatch"),Q([{type:"UPDATE_CURRENTS",currents:t}])):p})))},o.handleRangeChange=function(t){return e(o.slider,f,_((function(n){return c(n)?e(n,J("value"),J("dispatch"),Q([{type:"UPDATE_RANGE",range:t}])):p})))},o.handleStepChange=function(t){return e(o.slider,f,_((function(n){return c(n)?e(n,J("value"),J("dispatch"),Q([{type:"UPDATE_STEP",step:t}])):p})))},o.handleMarginChange=function(t){return e(o.slider,f,_((function(n){return c(n)?e(n,J("value"),J("dispatch"),Q([{type:"UPDATE_MARGIN",margin:t}])):p})))},o.renderSlider=function(){return e(o.parent,yt(".js-example__slider"),f,_((function(t){return c(t)?e(t,J("value"),Ht.of,Q([o.props.sliderConfig])):p})))},o.attachOptionListener=function(){return e(o.slider,f,_((function(t){return c(t)?e(t,J("value"),J("dispatch"),Q([{type:"ATTACH_LISTENER",listener:o.optionsListener}])):p})))},o.optionsListener={update:function(t){switch(t.type){case"CURRENTS_UPDATED":e(o.options,f,_((function(n){return c(n)?e(n,J("value"),J("updateCurrents"),Q([t.currents])):p})));break;case"STEP_UPDATED":e(o.options,f,_((function(n){return c(n)?e(n,J("value"),J("updateStep"),Q([t.step])):p})));break;case"RANGE_UPDATED":e(o.options,f,_((function(n){return c(n)?e(n,J("value"),J("updateRange"),Q([t.range])):p})));break;case"MARGIN_UPDATED":e(o.options,f,_((function(n){return c(n)?e(n,J("value"),J("updateMargin"),Q([t.margin])):p})))}}},o.slider=o.renderSlider(),e(o.mapExample,o.render),o.attachOptionListener(),o}return tn(n,t),n.of=function(t){return function(e){return new n(t,e)}},n}(qt);(function(){function t(){var t=this;this.renderExamples=function(){return H((function(t,n){return nn.of({title:"Example No "+e(t,et),description:"Slider examples. Set options below to see changes",sliderConfig:{range:[-1e3,-100],step:900,margin:200,currents:[-5e4,-5e3],connectType:"none",tooltipOptions:{alwaysShown:!0},scaleOptions:{withValue:!0,showValueEach:5}}})(n)}))(t.exampleNodes)},this.exampleNodes=Tt(".js-demo-page__example")(document),this.renderExamples()}return t.of=function(){return new t},t})().of()})();