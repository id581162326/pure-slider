(()=>{"use strict";function t(t){return function(){return t}}function n(t,n,e,r,o,i,a,u,s){switch(arguments.length){case 1:return t;case 2:return function(){return n(t.apply(this,arguments))};case 3:return function(){return e(n(t.apply(this,arguments)))};case 4:return function(){return r(e(n(t.apply(this,arguments))))};case 5:return function(){return o(r(e(n(t.apply(this,arguments)))))};case 6:return function(){return i(o(r(e(n(t.apply(this,arguments))))))};case 7:return function(){return a(i(o(r(e(n(t.apply(this,arguments)))))))};case 8:return function(){return u(a(i(o(r(e(n(t.apply(this,arguments))))))))};case 9:return function(){return s(u(a(i(o(r(e(n(t.apply(this,arguments)))))))))}}}function e(t,n,e,r,o,i,a,u,s,c,l,p,f,d,h,_,g,v,m,y){switch(arguments.length){case 1:return t;case 2:return n(t);case 3:return e(n(t));case 4:return r(e(n(t)));case 5:return o(r(e(n(t))));case 6:return i(o(r(e(n(t)))));case 7:return a(i(o(r(e(n(t))))));case 8:return u(a(i(o(r(e(n(t)))))));case 9:return s(u(a(i(o(r(e(n(t))))))));case 10:return c(s(u(a(i(o(r(e(n(t)))))))));case 11:return l(c(s(u(a(i(o(r(e(n(t))))))))));case 12:return p(l(c(s(u(a(i(o(r(e(n(t)))))))))));case 13:return f(p(l(c(s(u(a(i(o(r(e(n(t))))))))))));case 14:return d(f(p(l(c(s(u(a(i(o(r(e(n(t)))))))))))));case 15:return h(d(f(p(l(c(s(u(a(i(o(r(e(n(t))))))))))))));case 16:return _(h(d(f(p(l(c(s(u(a(i(o(r(e(n(t)))))))))))))));case 17:return g(_(h(d(f(p(l(c(s(u(a(i(o(r(e(n(t))))))))))))))));case 18:return v(g(_(h(d(f(p(l(c(s(u(a(i(o(r(e(n(t)))))))))))))))));case 19:return m(v(g(_(h(d(f(p(l(c(s(u(a(i(o(r(e(n(t))))))))))))))))));case 20:return y(m(v(g(_(h(d(f(p(l(c(s(u(a(i(o(r(e(n(t)))))))))))))))))))}}function r(t){return function(n){return function(e){return t.map(e,(function(t){return t(n)}))}}}Object.prototype.hasOwnProperty;var o=function(t,n){return{left:t,right:n}},i=function(t){return function(n){return o(u(n),t(s(n)))}},a="Separated",u=(r({URI:a,map:function(t,n){return e(t,i(n))}}),function(t){return t.left}),s=function(t){return t.right},c=function(t){return"Some"===t._tag},l=function(t){return"None"===t._tag},p={_tag:"None"},f=function(t){return{_tag:"Some",value:t}};var d=function(t){return function(n){return l(n)?t():n.value}},h=function(t){return null==t?p:f(t)},_=function(t){return function(n){return l(n)?p:f(t(n.value))}};var g;g=void 0;var v=function(t,n){return t<0||t>=n.length};var m=function(t,n){return e(t,y(n))},y=function(t){return T((function(n,e){return t(e)}))},T=function(t){return function(n){for(var e=[t(0,C(n))],r=1;r<n.length;r++)e.push(t(r,n[r]));return e}},w=function(t){return t[0]},b="ReadonlyNonEmptyArray",E={URI:b,map:m},C=(r(E),w),O=function(t){return t[t.length-1]};var S=function(t,n){return e(t,j(n))},j=function(t){return N((function(n,e){return t(e)}))},N=function(t){return function(n){for(var e=[t(0,P(n))],r=1;r<n.length;r++)e.push(t(r,n[r]));return e}},R="NonEmptyArray",A={URI:R,map:S},P=(r(A),C),x=O;var k=v;var D=function(t,n){return e(t,L(n))},L=function(t){return function(n){return n.map((function(n){return t(n)}))}},U=function(t,n){return M(t,(function(t,e,r){return n(e,r)}))},M=function(t,n){return function(e){for(var r=e.length,o=t,i=0;i<r;i++)o=n(i,o,e[i]);return o}},B="ReadonlyArray",V={URI:B,map:D},G=(r(V),function(t){return t.length}),I=function t(n,e){return void 0===e?function(e){return t(n,e)}:k(n,e)?p:f(e[n])};var F=function(t,n){return e(t,z(n))},z=function(t){return function(n){return n.map((function(n){return t(n)}))}},H=function(t){return function(n){return n.map((function(n,e){return t(e,n)}))}},q=U,Y="Array",W={URI:Y,map:F},J=(r(W),function(t){return t.toString()}),K=function(t){return function(n){return n[t]}},Q=function(t){return t},X=function(t){return function(n){return n.apply(void 0,t)}},Z=function(t){return Math.abs(t)},$=function(t){return function(n){return n-t}},tt=function(t){return function(n){return t+n}},nt=function(t){return $(1)(t)},et=function(t){return tt(1)(t)},rt=function(t){return function(n){return n/t}},ot=function(t){return function(n){return t*n}},it=function(t){return ot(t)(-1)},at=function(t){return rt(2)(t)},ut=function(n,r){return function(o){return e(o,I(n),d(t(r)))}},st=function(t){return function(n){var e=ut(t,NaN)(n),r=ut(nt(t),NaN)(n);return $(r)(e)}},ct=function(t){return document.createElement(t)},lt=function(t){return function(n){return t.appendChild(n),n}},pt=function(t){var n=t.content;return document.importNode(n,!0)},ft=function(t){return function(n){var e;return(e=n.classList).add.apply(e,t),n}},dt=function(t){return function(n){var e;return(e=n.classList).remove.apply(e,t),n}},ht=function(t){return function(n){return n.style.cssText=t,n}},_t=function(t){return function(n){return n.innerText=t,n}},gt=function(t,n){return function(e){return e.addEventListener(t,n),e}},vt=function(t){return function(n){return e(n.querySelector(t),h)}},mt=function(t){return function(n){return Array.from(n.querySelectorAll(t))}};const yt=function(t,n,r){var o=this;this.props=t,this.node=n,this.key=r,this.getNode=function(){return o.node},this.destroy=function(){var t=o.props.bemBlockClassName,n=t.base,e=t.theme;"container"===o.key?dt([""+n,n+"_orientation_vertical",e+"_orientation_vertical",n+"_orientation_horizontal",e+"_orientation_horizontal"])(o.node):o.node.remove()},this.setClassList=function(){var t=o.props,n=t.bemBlockClassName,r=t.orientation,i=n.base,a=n.theme;e(o.node,ft("container"===o.key?[""+i,i+"_orientation_"+r,""+a,a+"_orientation_"+r]:[i+"__"+o.key,i+"__"+o.key+"_orientation_"+r,a+"__"+o.key,a+"__"+o.key+"_orientation_"+r]))},this.pxToNum=function(t){var n=o.props,r=n.container,i=n.range,a=e(r,o.nodeSize),u=st(1)(i);return e(t,ot(u),rt(a),Math.round)},this.correctToMin=function(t){var n=e(o.props.range,P);return $(n)(t)},this.percentOfRange=function(t){var n=e(o.props.range,st(1));return e(t,function(t){return function(n){return e(n,rt(t),ot(100))}}(n))},this.nodeSize=function(t){return"horizontal"===o.props.orientation?t.offsetWidth:function(t){return t.offsetHeight}(t)},this.setClassList()};var Tt,wt=(Tt=function(t,n){return(Tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}Tt(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});const bt=function(t){function n(n){var r=t.call(this,n,ct("div"),"connect")||this;return r.moveTo=function(t){var n=r.props.orientation,o=r.getPos(t),i=r.getSize(t),a="horizontal"===n?"left: "+o+"%; max-width: "+i+"%;":"bottom: "+o+"%; max-height: "+i+"%;";e(r.node,ht(a))},r.getSize=function(t){var n=r.props,o=n.range,i=n.type,a=e(o,x);return"from-start"===i?e(t,P,r.correctToMin,r.percentOfRange):"to-end"===i?e(t,x,$(a),Z,r.percentOfRange):e(t,st(1),r.percentOfRange)},r.getPos=function(t){var n=r.props.type;return"to-end"===n?e(t,x,r.correctToMin,r.percentOfRange):"inner"===n?e(t,P,r.correctToMin,r.percentOfRange):0},r}return wt(n,t),n.of=function(t){return new n(t)},n}(yt);var Et=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ct=function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;var r=Array(t),o=0;for(n=0;n<e;n++)for(var i=arguments[n],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r};const Ot=function(t){function n(n){var r=t.call(this,n,ct("span"),"tooltip")||this;return r.setValue=function(t){e(r.node,e(t,J,_t))},r.setTooltipVisibility=function(){var t=r.props,n=t.bemBlockClassName,o=t.alwaysShown,i=n.base,a=n.theme;e(r.node,ft(Ct(o?[i+"__tooltip_shown"]:[],o?[a+"__tooltip_shown"]:[])))},r.setTooltipVisibility(),r}return Et(n,t),n.of=function(t){return new n(t)},n}(yt);var St=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();const jt=function(t){function n(n){var r=t.call(this,n,ct("div"),"handler")||this;return r.moveTo=function(t){var n=r.props,o=n.orientation,i=n.type,a=r.getPos(t),u=e(r.node,r.nodeSize,at),s="horizontal"===o?"left: calc("+a+"% - "+u+"px);":"bottom: calc("+a+"% - "+u+"px);",c=e(t,"start"===i||"single"===i?P:x);r.tooltip.setValue(c),e(r.node,ht(s))},r.renderTooltip=function(){var t=r.props,n=t.range,o=t.container,i=t.orientation,a=t.bemBlockClassName,u=t.tooltipAlwaysShown,s=e(Ot,K("of"));return e({range:n,container:o,orientation:i,bemBlockClassName:a,alwaysShown:u},s)},r.appendTooltip=function(){e(r.tooltip.getNode(),lt(r.node))},r.setTabIndex=function(){r.node.tabIndex=0},r.setEventListeners=function(){gt("mousedown",r.startDrag)(r.node),gt("mouseup",r.endDrag)(window),gt("keydown",r.keyDownListener)(r.node)},r.getPos=function(t){var n=r.props.type;return e(t,"start"===n||"single"===n?P:x,r.correctToMin,r.percentOfRange)},r.dragListener=function(t){var n=r.props,o=n.onDrag,i=n.orientation,a=n.type,u="horizontal"===i?"x":"y",s=e(r.node,r.nodeSize,at),c=e(r.node.getBoundingClientRect(),K(u));e(t,K(u),$(c),"horizontal"===i?Q:it,$(s),r.pxToNum,o(a))},r.startDrag=function(){gt("mousemove",r.dragListener)(window)},r.endDrag=function(){var t,n;(t="mousemove",n=r.dragListener,function(e){return e.removeEventListener(t,n),e})(window)},r.keyDownListener=function(t){var n=t.code,e=r.props,o=e.type,i=e.step,a=e.orientation,u=e.onDrag,s="horizontal"===a&&"ArrowRight"===n||"vertical"===a&&"ArrowUp"===n||"Equal"===n;"horizontal"===a&&"ArrowLeft"===n||"vertical"===a&&"ArrowDown"===n||"Minus"===n?u(o)(it(i)):s&&u(o)(i)},r.tooltip=r.renderTooltip(),n.showTooltip?r.appendTooltip():r.tooltip.destroy(),r.setEventListeners(),r.setTabIndex(),r}return St(n,t),n.of=function(t){return new n(t)},n}(yt);var Nt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();const Rt=function(t){function n(n){var r=t.call(this,n,ct("div"),"base")||this;return r.setEventListeners=function(){gt("click",r.clickListener)(r.node)},r.clickListener=function(t){var n=r.props,o=n.orientation,i=n.range,a=n.onClick,u=e(i,P),s="horizontal"===o?"x":"y",c=e(r.node.getBoundingClientRect(),K(s));e(t,K(s),$(c),r.pxToNum,tt(u),a)},r}return Nt(n,t),n.of=function(t){return new n(t)},n}(yt);var At=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();const Pt=function(t){function n(n){var r=t.call(this,n,ct("div"),"unit")||this;return r.setActive=function(t){var n=r.props.bemBlockClassName,e=[n.base+"__unit_active",n.theme+"__unit_active"];t?ft(e)(r.node):dt(e)(r.node)},r.updatePosition=function(){var t=r.props,n=t.value,o=t.orientation,i=e(n,r.correctToMin,r.percentOfRange);ht("horizontal"===o?"left: "+i+"%":"bottom: "+i+"%")(r.node)},r.getValue=function(){return r.props.value},r.renderValue=function(){var t=r.props,n=t.value,o=t.bemBlockClassName,i=[o.base+"__unit-value",o.theme+"__unit-value"],a=e(ct("span"),e(n,J,_t),ft(i));r.node.appendChild(a)},r.clickListener=function(t){t.stopPropagation(),(0,r.props.onClick)(r.getValue())},r.initEventListeners=function(){gt("click",r.clickListener)(r.node)},r.setClassList(),r.updatePosition(),n.withValue&&r.renderValue(),r.initEventListeners(),r}return At(n,t),n.of=function(t){return new n(t)},n}(yt);var xt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();const kt=function(t){function r(r){var o=t.call(this,r,ct("div"),"scale")||this;return o.moveTo=function(t){var r=o.props.connectType,i=e(t,P),a=e(t,x),u=function(n){return e(t,q(!1,function(t){return function(n,e){return e===t||n}}(n)))},s=function(t){return t<=i},c=function(t){return t>=a},l=function(t){return s(t)||c(t)},p=function(t){return t>=i&&t<=a};z((function(t){var e=t.getValue,o=t.setActive;return n(e,"outer-range"===r?l:"inner-range"===r?p:"from-start"===r?s:"to-end"===r?c:u,o)()}))(o.units)},o.renderUnits=function(){var t=o.props,r=t.step,i=t.range,a=t.container,u=t.orientation,s=t.bemBlockClassName,c=t.withValue,l=t.showValueEach,p=t.onClick,f=e(i,st(1),rt(r),Math.ceil,et),d=e(i,P),h=e(i,x),_=function(t){return e(r,ot(t),tt(d))},g=function(t){return{range:i,container:a,orientation:u,bemBlockClassName:s,onClick:p,withValue:c&&0===e(t,f>20?rt(y):Q,rt(l),(n=1,function(t){return Math.ceil(t%n)})),value:e(t,_,(function(t){return t>h?h:t}))};var n},v=e(Pt,K("of")),m=[],y=e(f,rt(20),Math.trunc),T=new Array(f>21?21:f).fill(null);return H((function(t){return m.push(e(t,f>21?n(ot(y)):Q,g,v))}))(T),m},o.appendUnits=function(){z((function(t){return e(t.getNode(),lt(o.node))}))(o.units)},o.units=o.renderUnits(),o.setClassList(),o.appendUnits(),o}return xt(r,t),r.of=function(t){return new r(t)},r}(yt);var Dt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();const Lt=function(t){function n(n){return t.call(this,n,n.container,"container")||this}return Dt(n,t),n.of=function(t){return new n(t)},n}(yt);var Ut=function(){return(Ut=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)};const Mt=function(){function n(n,r){var o=this;this.props=n,this.state=r,this.update=function(t){switch(t.type){case"UPDATE_CURRENTS":var n=o.state.currents;o.state=Ut(Ut({},o.state),{currents:t.currents}),G(n)!==G(t.currents)?o.reRender():o.moveHandlersTo(t.currents);break;case"UPDATE_RANGE":o.state=Ut(Ut({},o.state),{range:t.range}),o.reRender();break;case"UPDATE_STEP":o.state=Ut(Ut({},o.state),{step:t.step}),o.reRender();break;case"SET_CONNECT_TYPE":o.state=Ut(Ut({},o.state),{connectType:t.connectType}),o.reRender();break;case"TOGGLE_TOOLTIPS":o.state=Ut(Ut({},o.state),{showTooltips:!o.state.showTooltips}),o.reRender();break;case"TOGGLE_ORIENTATION":o.state=Ut(Ut({},o.state),{orientation:"horizontal"===o.state.orientation?"vertical":"horizontal"}),o.reRender();break;case"TOGGLE_SCALE":o.state=Ut(Ut({},o.state),{showScale:!o.state.showScale}),o.reRender()}},this.getBemBlockClassName=function(){return{base:"pure-slider",theme:e(o.props,K("themeBemBlockClassName"),h,d(t("-slider")))}},this.appendElementTo=function(t){return function(n){var r=n.getNode(),o=t.getNode();return e(r,lt(o)),n}},this.moveElementTo=function(t){return function(n){return n.moveTo(t),n}},this.destroy=function(){var t=function(t){return t.destroy()};z(t)(o.handlers),z(t)(o.connects),t(o.scale),t(o.base),t(o.container)},this.render=function(){o.container=o.renderContainer(),o.base=o.renderBase(),o.handlers=o.renderHandlers(),o.scale=o.renderScale(),o.connects=o.renderConnects(),o.state.showScale||o.scale.destroy()},this.reRender=function(){o.destroy(),o.render()},this.renderContainer=function(){var t=o.props.container,n=o.state,r=n.orientation,i=n.range;return e({bemBlockClassName:o.getBemBlockClassName(),orientation:r,range:i,container:t},Lt.of)},this.renderBase=function(){var t=o.props.container,n=o.state,r=n.orientation,i=n.range,a=n.currents,u={bemBlockClassName:o.getBemBlockClassName(),orientation:r,range:i,container:t,initialClickType:2===e(a,G)?"start":"single",onClick:o.handleClick};return e(u,Rt.of,o.appendElementTo(o.container))},this.renderConnects=function(){var t=o.props.container,n=o.state,r=n.connectType,i=n.range,a=n.orientation,u=n.currents,s="outer-range"===r?[0,2]:"inner-range"===r&&2===G(u)?[1]:"from-start"===r?[0]:"to-end"===r?[1]:[],c=function(n){return{container:t,bemBlockClassName:o.getBemBlockClassName(),orientation:a,range:i,type:"outer-range"===r||"inner-range"===r?0===n?"from-start":2===n?"to-end":"inner":0===n?"from-start":"to-end"}},l=bt.of;return z((function(t){return e(t,c,l,o.appendElementTo(o.base),o.moveElementTo(u))}))(s)},this.renderHandlers=function(){var t=o.props,n=t.container,r=t.tooltipOptions,i=o.state.showTooltips,a=o.state,u=a.range,s=a.currents,c=a.orientation,l=a.step,p=function(t){return{container:n,bemBlockClassName:o.getBemBlockClassName(),orientation:c,range:u,showTooltip:i,step:l,tooltipAlwaysShown:!!r&&r.alwaysShown,type:2===G(s)?0===t?"start":"end":"single",onDrag:o.handleDrag}},f=jt.of;return H((function(t){return e(t,p,f,o.appendElementTo(o.base),o.moveElementTo(s))}))(s)},this.renderScale=function(){var t=o.props,n=t.container,r=t.scaleOptions,i=o.state,a=i.currents,u=i.orientation,s=i.range,c=i.connectType,l=i.step,p=kt.of;return e({container:n,orientation:u,range:s,connectType:c,step:l,withValue:r.withValue,showValueEach:r.showValueEach,bemBlockClassName:o.getBemBlockClassName(),onClick:o.handleClick},p,o.moveElementTo(a),o.appendElementTo(o.base))},this.handleDrag=function(t){return function(n){var r=o.props.onChange,i=e(o.state,K("currents"),P),a=e(o.state,K("currents"),x);e("start"===t?[e(i,tt(n)),a]:"single"===t?[e(i,tt(n))]:[i,e(a,tt(n))],r)}},this.moveHandlersTo=function(t){e(o.connects,z(o.moveElementTo(t))),e(o.handlers,z(o.moveElementTo(t))),o.scale&&e(o.scale,o.moveElementTo(t))},this.handleClick=function(t){var n=o.props.onChange,r=e(o.state,K("currents"),P),i=e(o.state,K("currents"),x),a=e(r,$(t),Z),u=e(i,$(t),Z);n(2===G(o.state.currents)?a<=u?[t,i]:u<a?[r,t]:[r,i]:[t])},this.container=this.renderContainer(),this.base=this.renderBase(),this.handlers=this.renderHandlers(),this.connects=this.renderConnects(),this.scale=this.renderScale(),r.showScale||this.scale.destroy()}return n.of=function(t,e){return new n(t,e)},n}();const Bt=function(){var t=this;this.listeners=[],this.attach=function(n){t.listeners.push(n)}};var Vt=function(){return(Vt=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)};const Gt=function(){function t(t){var n,r=this;this.state=t,this.observer=new Bt,this.getState=function(){return r.state},this.correctCurrents=function(t){return function(n){var o=r.state.currents,i=function(n){return function(r,i){return"init"===t||"change"===t&&function(t,n){return e(o,ut(t,NaN))!==n}(r,i)?n(i,r):i}};return e(n,(function(t){return H(e(r.correctToMargin(t),i))(t)}),H(e(r.correctToStep,i)),H(e(r.correctToRange,i)))}},this.correctToStep=function(t){var n=r.state,o=n.step,i=e(n.range,P);return e(t,$(i),rt(o),Math.round,ot(o),tt(i))},this.correctToMargin=function(t){return function(n,o){var i=r.state,a=i.margin,u=e(i.range,P),s=ut(nt(o),NaN)(t),c=ut(et(o),NaN)(t),l=!isNaN(s)&&$(s)(n)<a,p=n!==u&&!isNaN(c)&&$(n)(c)<a;return l?tt(a)(s):p?$(a)(c):n}},this.correctToRange=function(t){var n=r.state.range,o=e(n,P),i=e(n,x);return t<o?o:t>i?i:t},this.invalidStateError=(n="Invalid state",function(t){var e=new Error;throw e.name=n,e.message=t,e}),this.validateState=function(t){return e(t,r.validateByRange,r.validateByStep,r.validateByMargin)},this.validateByRange=function(t){var n=t.range,o=e(n,P);return e(n,x)<o&&r.invalidStateError("Max value must not be less than min"),0===e(n,st(1))&&r.invalidStateError("Range value must not be equal to zero"),t},this.validateByStep=function(t){var n=t.range,o=t.step;return o>e(n,st(1))&&r.invalidStateError("Step value must not be more than range value"),o<0&&r.invalidStateError("Step value must not be less than zero"),t},this.validateByMargin=function(t){var n=t.range,o=t.margin;return o>e(n,st(1))&&r.invalidStateError("Margin value must not be more than range value"),o<0&&r.invalidStateError("Margin value must not be less than zero"),t},this.validateState(t),this.state=Vt(Vt({},t),{currents:this.correctCurrents("init")(t.currents)})}return t.prototype.update=function(t){var n=this;switch(t.type){case"UPDATE_CURRENTS":var r=this.correctCurrents("change")(t.currents);this.state=Vt(Vt({},this.state),{currents:r}),e(this.observer,K("listeners"),z((function(t){return t.update({type:"CURRENTS_UPDATED",currents:r})})));break;case"UPDATE_STEP":var o=Vt(Vt({},this.state),{step:t.step});this.state=e(o,this.validateState);var i=this.correctCurrents("init")(this.state.currents);this.state=Vt(Vt({},this.state),{currents:i}),e(this.observer,K("listeners"),z((function(t){t.update({type:"CURRENTS_UPDATED",currents:i}),t.update({type:"STEP_UPDATED",step:n.state.step})})));break;case"UPDATE_RANGE":o=Vt(Vt({},this.state),{range:t.range});this.state=e(o,this.validateState);var a=this.correctCurrents("init")(this.state.currents);this.state=Vt(Vt({},this.state),{currents:a}),e(this.observer,K("listeners"),z((function(t){t.update({type:"CURRENTS_UPDATED",currents:a}),t.update({type:"RANGE_UPDATED",range:n.state.range})})));break;case"UPDATE_MARGIN":o=Vt(Vt({},this.state),{margin:t.margin});this.state=e(o,this.validateState);var u=this.correctCurrents("init")(this.state.currents);this.state=Vt(Vt({},this.state),{currents:u}),e(this.observer,K("listeners"),z((function(n){n.update({type:"CURRENTS_UPDATED",currents:u}),n.update({type:"MARGIN_UPDATED",margin:t.margin})})))}},t.of=function(n){return new t(n)},t}();const It=function(){function t(t,n){var e=this;this.view=t,this.model=n,this.dispatch=function(t){switch(t.type){case"UPDATE_CURRENTS":case"UPDATE_STEP":case"UPDATE_RANGE":case"UPDATE_MARGIN":e.model.update(t);break;case"SET_CONNECT_TYPE":case"TOGGLE_SCALE":case"TOGGLE_ORIENTATION":case"TOGGLE_TOOLTIPS":e.view.update(t);break;case"ATTACH_LISTENER":e.addListener(t.listener)}},this.addListener=function(t){e.model.observer.attach(t),t.update({type:"CURRENTS_UPDATED",currents:e.model.getState().currents}),t.update({type:"RANGE_UPDATED",range:e.model.getState().range}),t.update({type:"STEP_UPDATED",step:e.model.getState().step}),t.update({type:"MARGIN_UPDATED",margin:e.model.getState().margin})}}return t.of=function(n,e){return new t(n,e)},t}();const Ft=function(){function t(t,n){var r=this;this.props=n,this.updateCurrents=function(t){r.controller.dispatch({type:"UPDATE_CURRENTS",currents:t})},this.toggleScale=function(){r.controller.dispatch({type:"TOGGLE_SCALE"})},this.toggleRange=function(){var t=r.model.getState().currents;r.controller.dispatch({type:"UPDATE_CURRENTS",currents:2===G(t)?[e(t,P)]:[e(t,P),e(t,P)]})},this.toggleOrientation=function(){r.controller.dispatch({type:"TOGGLE_ORIENTATION"})},this.toggleTooltips=function(){r.controller.dispatch({type:"TOGGLE_TOOLTIPS"})},this.attachListener=function(t){r.controller.dispatch({type:"ATTACH_LISTENER",listener:t})},this.updateStep=function(t){r.controller.dispatch({type:"UPDATE_STEP",step:t})},this.updateMargin=function(t){r.controller.dispatch({type:"UPDATE_MARGIN",margin:t})},this.updateRange=function(t){r.controller.dispatch({type:"UPDATE_RANGE",range:t})},this.setConnectType=function(t){r.controller.dispatch({type:"SET_CONNECT_TYPE",connectType:t})},this.viewListener={update:function(t){switch(t.type){case"CURRENTS_UPDATED":r.view.update({type:"UPDATE_CURRENTS",currents:t.currents});break;case"RANGE_UPDATED":r.view.update({type:"UPDATE_RANGE",range:t.range});break;case"STEP_UPDATED":r.view.update({type:"UPDATE_STEP",step:t.step})}}};var o=n.range,i=n.step,a=n.margin,u=n.currents,s=n.connectType,l=n.orientation,p=n.tooltipOptions,f=n.scaleOptions,d=n.themeBemBlockClassName;this.view=Mt.of({container:t,tooltipOptions:{alwaysShown:!!p&&p.alwaysShown},scaleOptions:{withValue:!!f&&f.withValue,showValueEach:f&&f.showValueEach?f.showValueEach:i},themeBemBlockClassName:d,onChange:this.updateCurrents},{currents:u,range:o,step:i,orientation:l||"horizontal",connectType:s||"inner-range",showScale:e(f,h,c),showTooltips:e(p,h,c)}),this.model=Gt.of({range:o,step:i,margin:a,currents:u}),this.controller=It.of(this.view,this.model),this.attachListener(this.viewListener)}return t.of=function(n){return function(e){return new t(n,e)}},t}();const zt=function(t,n){var r=this;this.parent=t,this.selector=n,this.render=function(t){return e(r.parent,vt("."+r.selector),f,_((function(n){return c(n)?t(n):p})))},this.renderFragment=function(){return e(document,vt("."+r.selector+"-template"),f,_((function(t){return c(t)?e(t,K("value"),pt,lt(r.parent)):p})))},this.fragment=this.renderFragment()};var Ht=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();e(document,vt("html"),f,_((function(t){return c(t)?t.value.insertAdjacentHTML("afterbegin",'<template class="js-button-template"> <button class="button js-button"></button> </template>'):p})));const qt=function(t){function n(n,r){var o=t.call(this,r,"js-button")||this;return o.props=n,o.buttonMap=function(t){return e(t,K("value"),gt("click",o.props.onClick),_t(o.props.label),f)},e(o.buttonMap,o.render),o}return Ht(n,t),n.of=function(t){return function(e){return new n(t,e)}},n}(zt);var Yt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();e(document,vt("html"),f,_((function(t){return c(t)?t.value.insertAdjacentHTML("afterbegin",'<template class="js-text-field-template"> <label class="text-field js-text-field"> <span class="text-field__label js-text-field__label"></span> <input type="number" class="text-field__input js-text-field__input"> </label> </template>'):p})));const Wt=function(n){function r(r,o){var i=n.call(this,o,"js-text-field")||this;return i.props=r,i.getValue=function(){return e(i.input,f,_((function(t){return c(t)?e(t,K("value"),K("value"),Number):NaN})),d(t(NaN)))},i.setValue=function(t){return e(i.input,f,_((function(n){return c(n)?e(n,K("value")).value=e(t,J):p})))},i.setStep=function(t){return e(i.input,f,_((function(n){return c(n)?e(n,K("value")).step=e(t,J):p})))},i.textFieldMap=function(t){return e(t,K("value"),i.renderInput,i.setLabel,f)},i.input=p,i.renderInput=function(t){return e(t,vt(".js-text-field__input"),(function(t){return i.input=t,t}),f,_((function(t){return c(t)?e(t,K("value"),gt("keyup",(function(n){return"Enter"===n.code&&e(t,K("value"),K("value"),Number,i.props.onEnter)}))):p})),(function(){return t}))},i.setLabel=function(t){var n=i.props.label;return e(t,vt(".js-text-field__label"),f,_((function(t){return c(t)?e(t,K("value"),(function(t){return t.innerText=n})):p}))),t},e(i.textFieldMap,i.render),i}return Yt(r,n),r.of=function(t){return function(n){return new r(t,n)}},r}(zt);var Jt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();e(document,vt("html"),f,_((function(t){return c(t)?t.value.insertAdjacentHTML("afterbegin",'<template class="js-switcher-template"> <div class="switcher js-switcher"> <span class="switcher__label js-switcher__label"></span> <div class="switcher__input js-switcher__input"></div> </div> </template>'):p})));const Kt=function(t){function n(n,r){var o=t.call(this,r,"js-switcher")||this;return o.props=n,o.slider=p,o.switcherMap=function(t){return e(t,K("value"),o.setLabel,o.renderInput,(function(){return t}))},o.connectTypeChangedListener={update:function(t){switch(t.type){case"CURRENTS_UPDATED":e(t,K("currents"),P,o.props.onChange)}}},o.renderInput=function(t){return e(t,vt(".js-switcher__input"),f,_((function(t){return c(t)?e(t,K("value"),Ft.of,X([{range:[0,4],step:1,margin:1,currents:[0],connectType:"none",scaleOptions:{withValue:!0,showValueEach:1},themeBemBlockClassName:"switcher"}])):p})),(function(t){return o.slider=t}),(function(){return t}))},o.setLabel=function(t){return e(t,vt(".js-switcher__label"),f,_((function(t){return c(t)?e(t,K("value"),_t(o.props.label)):p})),(function(){return t}))},e(o.switcherMap,o.render),e(o.slider,f,_((function(t){return c(t)?e(t,K("value")).attachListener(o.connectTypeChangedListener):p}))),o}return Jt(n,t),n.of=function(t){return function(e){return new n(t,e)}},n}(zt);var Qt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();e(document,vt("html"),f,_((function(t){return c(t)?t.value.insertAdjacentHTML("afterbegin",'<template class="js-options-template"> <div class="options js-options"> <div class="options__row"> <div class="options__text-field js-options__text-field js-options__text-field_with_handler"></div> <div class="options__text-field js-options__text-field js-options__text-field_with_handler"></div> </div> <div class="options__row js-options__row_with_range"> <div class="options__text-field js-options__text-field js-options__text-field_with_range"></div> <div class="options__text-field js-options__text-field js-options__text-field_with_range"></div> </div> <div class="options__row js-options__row_with_step-and-margin"> <div class="options__text-field js-options__text-field js-options__text-field_with_step"></div> <div class="options__text-field js-options__text-field js-options__text-field_with_margin"></div> </div> <div class="options__button js-options__button js-options__button_toggle_orientation"></div> <div class="options__button js-options__button js-options__button_toggle_scale"></div> <div class="options__button js-options__button js-options__button_toggle_tooltips"></div> <div class="options__button js-options__button js-options__button_toggle_range"></div> <div class="options__switcher js-options__switcher js-options__switcher"></div> </div> </template>'):p})));const Xt=function(t){function n(n,r){var o=t.call(this,r,"js-options")||this;return o.props=n,o.updateCurrents=function(t){return e(o.currentsFields,H((function(n,r){return r.setValue(e(t,ut(n,0)))})))},o.updateRange=function(t){return e(o.rangeFields,H((function(n,r){return r.setValue(e(t,ut(n,0)))})))},o.updateStep=function(t){e(o.currentsFields,z((function(n){return n.setStep(t)}))),e(o.stepField,z((function(n){return n.setValue(t)})))},o.updateMargin=function(t){e(o.marginField,z((function(n){return n.setValue(t)})))},o.currentsFields=[],o.rangeFields=[],o.stepField=[],o.marginField=[],o.optionsMap=function(t){return e(t,K("value"),o.renderCurrentsFields,o.renderRangeFields,o.renderStepField,o.renderMarginField,o.renderOrientationToggle,o.renderRangeToggle,o.renderTooltipsToggle,o.renderScaleToggle,o.renderSwitcher,f)},o.renderCurrentsFields=function(t){return e(t,mt(".js-options__text-field_with_handler"),H((function(t,n){return e(n,Wt.of({label:0===t?"1st handler":"2nd handler",onEnter:function(n){return o.props.onCurrentsChange([0===t?n:e(o.currentsFields,ut(0,{getValue:function(){return 0}}),K("getValue"))(),1===t?n:e(o.currentsFields,ut(1,{getValue:function(){return 0}}),K("getValue"))()])}}),(function(t){return o.currentsFields.push(t)}))})),(function(){return t}))},o.renderRangeFields=function(t){return e(t,mt(".js-options__text-field_with_range"),H((function(t,n){return e(n,Wt.of({label:0===t?"Min":"Max",onEnter:function(n){return o.props.onRangeChange([0===t?n:e(o.rangeFields,ut(0,{getValue:function(){return 0}}),K("getValue"))(),1===t?n:e(o.rangeFields,ut(1,{getValue:function(){return 0}}),K("getValue"))()])}}),(function(t){return o.rangeFields.push(t)}))})),(function(){return t}))},o.renderStepField=function(t){return e(t,vt(".js-options__text-field_with_step"),f,_((function(t){return c(t)?e(t,K("value"),Wt.of({label:"Step",onEnter:o.props.onStepChange}),(function(t){return o.stepField.push(t)})):p})),(function(){return t}))},o.renderMarginField=function(t){return e(t,vt(".js-options__text-field_with_margin"),f,_((function(t){return c(t)?e(t,K("value"),Wt.of({label:"Margin",onEnter:o.props.onMarginChange}),(function(t){return o.marginField.push(t)})):p})),(function(){return t}))},o.renderOrientationToggle=function(t){return e(t,vt(".js-options__button_toggle_orientation"),f,_((function(t){return c(t)?e(t,K("value"),qt.of({label:"Toggle orientation",onClick:o.props.onOrientationToggle})):p})),(function(){return t}))},o.renderScaleToggle=function(t){return e(t,vt(".js-options__button_toggle_scale"),f,_((function(t){return c(t)?e(t,K("value"),qt.of({label:"Toggle scale",onClick:o.props.onScaleToggle})):p})),(function(){return t}))},o.renderTooltipsToggle=function(t){return e(t,vt(".js-options__button_toggle_tooltips"),f,_((function(t){return c(t)?e(t,K("value"),qt.of({label:"Toggle tooltips",onClick:o.props.onTooltipsToggle})):p})),(function(){return t}))},o.renderRangeToggle=function(t){return e(t,vt(".js-options__button_toggle_range"),f,_((function(t){return c(t)?e(t,K("value"),qt.of({label:"Toggle range",onClick:o.props.onRangeToggle})):p})),(function(){return t}))},o.renderSwitcher=function(t){return e(t,vt(".js-options__switcher"),f,_((function(t){return c(t)?e(t,K("value"),Kt.of({label:"Interval type switcher",onChange:o.handleConnectSwitcherChange})):p})),(function(){return t}))},o.handleConnectSwitcherChange=function(t){return o.props.onConnectTypeChange(1===t?"from-start":2===t?"to-end":3===t?"inner-range":4===t?"outer-range":"none")},e(o.optionsMap,o.render),o}return Qt(n,t),n.of=function(t){return function(e){return new n(t,e)}},n}(zt);var Zt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();e(document,vt("html"),f,_((function(t){return c(t)?t.value.insertAdjacentHTML("afterbegin",'<template class="js-example-template"> <section class="example js-example"> <h2 class="example__title js-example__title"></h2> <p class="example__description js-example__description"></p> <div class="example__slider js-example__slider"></div> <div class="example__options js-example__options"></div> </section> </template>'):p})));const $t=function(t){function n(n,r){var o=t.call(this,r,"js-example")||this;return o.props=n,o.options=p,o.exampleMap=function(t){return e(t,K("value"),o.setInnerText,o.renderOptions,f)},o.renderOptions=function(t){return e(t,vt(".js-example__options"),f,_((function(t){return c(t)?e(t,K("value"),Xt.of({onConnectTypeChange:o.handleConnectTypeChanged,onCurrentsChange:o.handleCurrentsChange,onStepChange:o.handleStepChange,onMarginChange:o.handleMarginChange,onRangeChange:o.handleRangeChange,onOrientationToggle:o.handleOrientationToggle,onScaleToggle:o.handleScaleToggle,onTooltipsToggle:o.handleTooltipToggle,onRangeToggle:o.handleRangeToggle}),(function(t){return o.options=f(t)})):p})),(function(){return t}))},o.handleOrientationToggle=function(){return e(o.slider,f,_((function(t){return c(t)?e(t,K("value")).toggleOrientation():p})))},o.handleTooltipToggle=function(){return e(o.slider,f,_((function(t){return c(t)?e(t,K("value")).toggleTooltips():p})))},o.handleScaleToggle=function(){return e(o.slider,f,_((function(t){return c(t)?e(t,K("value")).toggleScale():p})))},o.handleRangeToggle=function(){return e(o.slider,f,_((function(t){return c(t)?e(t,K("value")).toggleRange():p})))},o.handleConnectTypeChanged=function(t){return e(o.slider,f,_((function(n){return c(n)?e(n,K("value")).setConnectType(t):p})))},o.handleCurrentsChange=function(t){return e(o.slider,f,_((function(n){return c(n)?e(n,K("value")).updateCurrents(t):p})))},o.handleRangeChange=function(t){return e(o.slider,f,_((function(n){return c(n)?e(n,K("value")).updateRange(t):p})))},o.handleStepChange=function(t){return e(o.slider,f,_((function(n){return c(n)?e(n,K("value")).updateStep(t):p})))},o.handleMarginChange=function(t){return e(o.slider,f,_((function(n){return c(n)?e(n,K("value")).updateMargin(t):p})))},o.setInnerText=function(t){var n=o.props,r=n.title,i=n.description;return e(t,vt(".js-example__title"),f,_((function(t){return c(t)?e(t,K("value"),_t(r)):p}))),e(t,vt(".js-example__description"),f,_((function(t){return c(t)?e(t,K("value"),_t(i)):p}))),t},o.renderSlider=function(){return e(o.parent,vt(".js-example__slider"),f,_((function(t){return c(t)?e(t,K("value"),Ft.of,X([o.props.sliderConfig])):p})))},o.attachOptionListener=function(){return e(o.slider,f,_((function(t){return c(t)?e(t,K("value"),K("attachListener"),X([o.optionsListener])):p})))},o.optionsListener={update:function(t){switch(t.type){case"CURRENTS_UPDATED":e(o.options,f,_((function(n){return c(n)?e(n,K("value"),K("updateCurrents"),X([t.currents])):p})));break;case"STEP_UPDATED":e(o.options,f,_((function(n){return c(n)?e(n,K("value"),K("updateStep"),X([t.step])):p})));break;case"RANGE_UPDATED":e(o.options,f,_((function(n){return c(n)?e(n,K("value"),K("updateRange"),X([t.range])):p})));break;case"MARGIN_UPDATED":e(o.options,f,_((function(n){return c(n)?e(n,K("value"),K("updateMargin"),X([t.margin])):p})))}}},o.slider=o.renderSlider(),e(o.exampleMap,o.render),o.attachOptionListener(),o}return Zt(n,t),n.of=function(t){return function(e){return new n(t,e)}},n}(zt);(function(){function t(){var t=this;this.renderExamples=function(){return H((function(t,n){return $t.of({title:"Example No "+e(t,et),description:"Slider examples. Set options below to see changes",sliderConfig:{range:[-100,100],step:10,margin:20,currents:[-50,50],connectType:"outer-range",tooltipOptions:{alwaysShown:!0},scaleOptions:{withValue:!0,showValueEach:5}}})(n)}))(t.exampleNodes)},this.exampleNodes=mt(".js-demo-page__example")(document),this.renderExamples()}return t.of=function(){return new t},t})().of()})();